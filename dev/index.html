<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Pixell.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://simonsobs.github.io/Pixell.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><script src="../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Pixell.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/simonsobs/Pixell.jl/blob/master/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Pixell"><a class="docs-heading-anchor" href="#Pixell">Pixell</a><a id="Pixell-1"></a><a class="docs-heading-anchor-permalink" href="#Pixell" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/simonsobs/Pixell.jl">Pixell</a>.</p><ul><li><a href="#Pixell.Enmap"><code>Pixell.Enmap</code></a></li><li><a href="#Pixell.fullsky_geometry-Tuple{Type{&lt;:CarClenshawCurtis}, Any}"><code>Pixell.fullsky_geometry</code></a></li><li><a href="#Pixell.pix2sky-Union{Tuple{AA}, Tuple{N}, Tuple{T}, Tuple{Enmap{T, N, AA, CarClenshawCurtis}, Number, Number}} where {T, N, AA&lt;:AbstractArray{T, N}}"><code>Pixell.pix2sky</code></a></li><li><a href="#Pixell.pix2sky"><code>Pixell.pix2sky</code></a></li><li><a href="#Pixell.pix2sky!-Union{Tuple{TS}, Tuple{TP}, Tuple{AA}, Tuple{N}, Tuple{T}, Tuple{Enmap{T, N, AA, CarClenshawCurtis}, AbstractMatrix{TP}, AbstractMatrix{TS}}} where {T, N, AA&lt;:AbstractArray{T, N}, TP, TS}"><code>Pixell.pix2sky!</code></a></li><li><a href="#Pixell.sky2pix-Union{Tuple{AA}, Tuple{N}, Tuple{T}, Tuple{Enmap{T, N, AA, CarClenshawCurtis}, Number, Number}} where {T, N, AA&lt;:AbstractArray{T, N}}"><code>Pixell.sky2pix</code></a></li><li><a href="#Pixell.sky2pix"><code>Pixell.sky2pix</code></a></li><li><a href="#Pixell.sky2pix!-Union{Tuple{TP}, Tuple{TS}, Tuple{AA}, Tuple{N}, Tuple{T}, Tuple{Enmap{T, N, AA, CarClenshawCurtis}, AbstractMatrix{TS}, AbstractMatrix{TP}}} where {T, N, AA&lt;:AbstractArray{T, N}, TS, TP}"><code>Pixell.sky2pix!</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="Pixell.Enmap" href="#Pixell.Enmap"><code>Pixell.Enmap</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Map type, contains an AbstractArray and a WCS object, but behaves like the AbstractArray it contains for array operations. It only implements the subset of Base.Array operations which are common on maps. You should work with the data directly using <code>enmap_instance.data</code> if you need additional Array functions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simonsobs/Pixell.jl/blob/0e0edc68145a0de7f1d3f62c3a2530828355cc26/src/enmap.jl#L10-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Pixell.fullsky_geometry-Tuple{Type{&lt;:CarClenshawCurtis}, Any}" href="#Pixell.fullsky_geometry-Tuple{Type{&lt;:CarClenshawCurtis}, Any}"><code>Pixell.fullsky_geometry</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fullsky_geometry([P=CarClenshawCurtis], res; shape = nothing, dims = ())</code></pre><p>Generates a full-sky geometry.</p><p><strong>Arguments:</strong></p><ul><li><code>proj=CarClenshawCurtis</code>: [optional] projection</li><li><code>res</code>: resolution in radians. Passing a Number produces a square pixel.   Passing a tuple with (ΔRA, ΔDEC) produces a rectangular pixel.</li></ul><p><strong>Keywords</strong></p><ul><li><code>shape::NTuple=nothing</code>: shape of the map. If not specified, will be computed.</li><li><code>dims::NTuple=()</code>: additional dimensions to append to the shape, such as (3,) for IQU   to generate a map with <code>(nx, ny, 3)</code>.</li></ul><p><strong>Returns:</strong></p><ul><li><code>shape::Tuple, wcs::WCSTransform</code>: a tuple containing the shape of the map and the WCS</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; shape, wcs = fullsky_geometry(deg2rad(30/60))  # 30 arcmin pixel
((720, 361), WCSTransform(naxis=2,cdelt=[-0.5, 0.5],crval=[0.25, 0.0],crpix=[360.5, 181.0]))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simonsobs/Pixell.jl/blob/0e0edc68145a0de7f1d3f62c3a2530828355cc26/src/enmap_ops.jl#L2-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Pixell.pix2sky" href="#Pixell.pix2sky"><code>Pixell.pix2sky</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">pix2sky(m::Enmap, pixcoords)</code></pre><p>Convert 1-indexed pixels to sky coordinates. The output sky coordinates are determined by WCS, but usually are in units of degrees. </p><p><strong>Arguments:</strong></p><ul><li><code>m::Enmap</code>: the map that provides a coordinate system</li><li><code>pixcoords</code>: pixcoords should be a 2-d array where &quot;pixcoords[:, i]&quot; is the i-th set of coordinates,    or a 1-d array representing a single set of coordinates. </li></ul><p><strong>Returns:</strong></p><ul><li><code>Array</code>: same shape as pixcoords</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; shape, wcs = fullsky_geometry(deg2rad(1))
       m = Enmap(rand(shape...), wcs)
julia&gt; pix2sky(m, [1.0, 1.0])
2-element Vector{Float64}:
 180.0
 -90.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simonsobs/Pixell.jl/blob/0e0edc68145a0de7f1d3f62c3a2530828355cc26/src/enmap_ops.jl#L54-L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Pixell.pix2sky!-Union{Tuple{TS}, Tuple{TP}, Tuple{AA}, Tuple{N}, Tuple{T}, Tuple{Enmap{T, N, AA, CarClenshawCurtis}, AbstractMatrix{TP}, AbstractMatrix{TS}}} where {T, N, AA&lt;:AbstractArray{T, N}, TP, TS}" href="#Pixell.pix2sky!-Union{Tuple{TS}, Tuple{TP}, Tuple{AA}, Tuple{N}, Tuple{T}, Tuple{Enmap{T, N, AA, CarClenshawCurtis}, AbstractMatrix{TP}, AbstractMatrix{TS}}} where {T, N, AA&lt;:AbstractArray{T, N}, TP, TS}"><code>Pixell.pix2sky!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">pix2sky!(m::Enmap, pixcoords, skycoords)</code></pre><p>Convert 1-indexed pixels to sky coordinates, in-place. The output sky coordinates are  determined by WCS, but usually are in units of degrees. </p><p><strong>Arguments:</strong></p><ul><li><code>m::Enmap</code>: the map that provides a coordinate system</li><li><code>pixcoords</code>: pixel coordinates should be a 2-d array where &quot;pixcoords[:, i]&quot; is the i-th    set of coordinates, or a 1-d array representing a single set of coordinates. </li><li><code>skycoords</code>: output array for sky coordinates, must be same same as pixcoords</li></ul><p><strong>Returns:</strong></p><ul><li><code>Array</code>: skycoords</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; shape, wcs = fullsky_geometry(deg2rad(1))
       m = Enmap(rand(shape...), wcs)
       pixcoords =  100 .* rand(2,4096 * 2)
       skycoords =  similar(pixcoords)

julia&gt; pix2sky!(m, pixcoords, skycoords)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simonsobs/Pixell.jl/blob/0e0edc68145a0de7f1d3f62c3a2530828355cc26/src/enmap_ops.jl#L88-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Pixell.pix2sky-Union{Tuple{AA}, Tuple{N}, Tuple{T}, Tuple{Enmap{T, N, AA, CarClenshawCurtis}, Number, Number}} where {T, N, AA&lt;:AbstractArray{T, N}}" href="#Pixell.pix2sky-Union{Tuple{AA}, Tuple{N}, Tuple{T}, Tuple{Enmap{T, N, AA, CarClenshawCurtis}, Number, Number}} where {T, N, AA&lt;:AbstractArray{T, N}}"><code>Pixell.pix2sky</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">pix2sky(m::Enmap{T,N,AA,CarClenshawCurtis}, ra_pixel, dec_pixel)</code></pre><p>Compute the sky position of a single position on the sky.</p><p>Only implemented for CAR (Clenshaw-Curtis variant) projections, so the input map is of type <code>Enmap{T,N,AA,CarClenshawCurtis}</code>. This takes pixel indices for RA and DEC, and returns a tuple containing the corresponding RA and DEC.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; shape, wcs = fullsky_geometry(deg2rad(1))
       m = Enmap(rand(shape...), wcs)
julia&gt; pix2sky(m, 30.0, 80.0)
(151.0, -11.0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simonsobs/Pixell.jl/blob/0e0edc68145a0de7f1d3f62c3a2530828355cc26/src/enmap_ops.jl#L143-L160">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Pixell.sky2pix" href="#Pixell.sky2pix"><code>Pixell.sky2pix</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sky2pix(m::Enmap, skycoords)</code></pre><p>Convert sky coordinates to 1-indexed pixels. The input sky coordinates are determined by WCS, but usually are in units of degrees. </p><p><strong>Arguments:</strong></p><ul><li><code>m::Enmap</code>: the map to obtain the coordinates from</li><li><code>skycoords</code>: skycoords should be a 2-d array where &quot;skycoords[:, i]&quot; is the i-th set of coordinates,    or a 1-d array representing a single set of coordinates. </li></ul><p><strong>Returns:</strong></p><ul><li><code>Array</code>: same shape as skycoords</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; shape, wcs = fullsky_geometry(deg2rad(1))
       m = Enmap(rand(shape...), wcs)
julia&gt; sky2pix(m, [30.0, 50.0])
2-element Vector{Float64}:
 151.0
 141.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simonsobs/Pixell.jl/blob/0e0edc68145a0de7f1d3f62c3a2530828355cc26/src/enmap_ops.jl#L190-L213">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Pixell.sky2pix!-Union{Tuple{TP}, Tuple{TS}, Tuple{AA}, Tuple{N}, Tuple{T}, Tuple{Enmap{T, N, AA, CarClenshawCurtis}, AbstractMatrix{TS}, AbstractMatrix{TP}}} where {T, N, AA&lt;:AbstractArray{T, N}, TS, TP}" href="#Pixell.sky2pix!-Union{Tuple{TP}, Tuple{TS}, Tuple{AA}, Tuple{N}, Tuple{T}, Tuple{Enmap{T, N, AA, CarClenshawCurtis}, AbstractMatrix{TS}, AbstractMatrix{TP}}} where {T, N, AA&lt;:AbstractArray{T, N}, TS, TP}"><code>Pixell.sky2pix!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">sky2pix!(m::Enmap, skycoords, pixcoords)</code></pre><p>Convert sky coordinates to 1-indexed pixels, in-place. The input sky coordinates are  determined by WCS, but usually are in units of degrees. </p><p><strong>Arguments:</strong></p><ul><li><code>m::Enmap</code>: the map that provides a coordinate system</li><li><code>skycoords</code>: sky coordinates should be a 2-d array where &quot;skycoords[:, i]&quot; is the i-th    set of coordinates, or a 1-d array representing a single set of coordinates. </li><li><code>pixcoords</code>: output array for pixel coordinates, must be same same as pixcoords</li></ul><p><strong>Returns:</strong></p><ul><li><code>Array</code>: pixcoords</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; shape, wcs = fullsky_geometry(deg2rad(1))
       m = Enmap(rand(shape...), wcs)
       skycoords =  similar(pixcoords)
       pixcoords =  100 .* rand(2,4096 * 2)
julia&gt; sky2pix!(m, skycoords, pixcoords)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simonsobs/Pixell.jl/blob/0e0edc68145a0de7f1d3f62c3a2530828355cc26/src/enmap_ops.jl#L216-L239">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Pixell.sky2pix-Union{Tuple{AA}, Tuple{N}, Tuple{T}, Tuple{Enmap{T, N, AA, CarClenshawCurtis}, Number, Number}} where {T, N, AA&lt;:AbstractArray{T, N}}" href="#Pixell.sky2pix-Union{Tuple{AA}, Tuple{N}, Tuple{T}, Tuple{Enmap{T, N, AA, CarClenshawCurtis}, Number, Number}} where {T, N, AA&lt;:AbstractArray{T, N}}"><code>Pixell.sky2pix</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">sky2pix(m::Enmap{T,N,AA,CarClenshawCurtis}, ra, dec)</code></pre><p>Compute 1-indexed pixels into sky coordinates.</p><p>Only implemented for CAR (Clenshaw-Curtis variant) projections. Takes  RA and DEC and returns a tuple containing the corresponding pixel indices. If vectors of RA and DEC are given, then vectors of  pixel indices will be returned.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; shape, wcs = fullsky_geometry(deg2rad(1))
       m = Enmap(rand(shape...), wcs)
julia&gt; sky2pix(m, 30.0, 80.0)
(151.0, 171.0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/simonsobs/Pixell.jl/blob/0e0edc68145a0de7f1d3f62c3a2530828355cc26/src/enmap_ops.jl#L271-L288">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.12 on <span class="colophon-date" title="Wednesday 26 January 2022 04:07">Wednesday 26 January 2022</span>. Using Julia version 1.7.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
